import java.io.File;
import java.util.concurrent.TimeUnit;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.ie.InternetExplorerDriver;
import org.openqa.selenium.support.ui.Select;
import org.testng.annotations.Test;


public class BookingTest {

	public WebDriver DRIVER;
	
	public static void main(String args[]) {
		BookingTest test1 = new BookingTest();
		test1.open_IRCTC();
		test1.planMyTravel();
		test1.selectTrain();
		
	}
	
	public void selectTrain() {
		
		DRIVER.findElement(By.xpath("//*[@id=\"a31\"]/input")).click();
		DRIVER.findElement(By.id("submitButton1")).click();
		
	}
	
	
	public void open_IRCTC() {
		setBrowserdriver("CR");
		DRIVER.get("http://irctc.co.in");
		DRIVER.findElement(By.name("userName")).sendKeys("nasirhere");
		DRIVER.findElement(By.name("password")).sendKeys("123456");
		DRIVER.findElement(By.id("button")).click();
		
	}
	
	public void planMyTravel() {
		DRIVER.findElement(By.id("stationFrom")).sendKeys("CSTM");
		DRIVER.findElement(By.id("stationTo")).sendKeys("Pune");
		DRIVER.findElement(By.id("JDatee")).sendKeys("28/3/2014");
		Select quota = new Select(DRIVER.findElement(By.name("quota")));
		//quota.selectByVisibleText("Takqal");
		DRIVER.findElement(By.name("Submit")).click();	
	}
	
	public void setBrowserdriver(String browserDriver) {

		switch (browserDriver) {
		case "IE": {
			File file = new File("../Libraries/IEDriverServer.exe");
			System.setProperty("webdriver.ie.driver", file.getAbsolutePath());
			DRIVER = new InternetExplorerDriver();
			break;
		}
		case "FF": {
			DRIVER = new FirefoxDriver();
			break;
		}
		case "CR": {
			File file = new File("../Libraries/chromedriver");
			System.setProperty("webdriver.chrome.driver",
					file.getAbsolutePath());
			DRIVER = new ChromeDriver();
			break;
		}
		default:
			break;
		}

		//DRIVER.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);

	}
}
